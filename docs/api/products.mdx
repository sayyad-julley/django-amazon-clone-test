# Product Ratings API

## Overview
Products in our e-commerce platform now support an `average_rating` feature that automatically calculates and updates product ratings based on user reviews.

## Fields

### Products Model
- `average_rating` (DecimalField)
  - Precision: 3 total digits, 2 decimal places
  - Represents the average rating of all active product reviews
  - Defaults to `0.0` when no reviews exist

## Rating Calculation

### Automatic Updates
- Ratings are automatically updated whenever:
  - A new review is added
  - An existing review is modified
  - A review is deleted

### Calculation Method
- Only active reviews (with `is_active = 1`) are considered
- Ratings are calculated by:
  1. Summing all active review ratings
  2. Dividing by the number of active reviews
  3. Rounding to 2 decimal places

### Dynamic Fallback
A `dynamic_average_rating` property is available to calculate ratings on-the-fly if needed.

## Example

```python
# Retrieving product rating
product = Products.objects.get(id=1)
print(product.average_rating)  # Stored average rating
print(product.dynamic_average_rating)  # Calculated average rating
```

## Notes
- Initial rating is always `0.0`
- Inactive reviews are not included in rating calculations