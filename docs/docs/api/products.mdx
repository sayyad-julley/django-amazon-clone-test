---
title: 'Products API'
description: 'API documentation for product management, including product rating functionality'
---

## Product Rating

### Overview
The product rating system allows tracking and calculating the average rating for each product based on customer reviews.

### Rating Field
- `average_rating`: DecimalField 
  - Max digits: 3
  - Decimal places: 2
  - Default: 0.0
  - Automatically updated on review changes

### Calculation Mechanism
- Ratings are calculated from active product reviews
- Inactive reviews are excluded from rating calculations
- Precision maintained to 2 decimal places
- Ratings are automatically updated when:
  - A review is created
  - A review is updated
  - A review is deleted

### Retrieval Methods

#### Direct Field Access
```python
product = Products.objects.get(id=1)
rating = product.average_rating  # Returns cached rating
```

#### Dynamic Calculation
```python
product = Products.objects.get(id=1)
current_rating = product.dynamic_average_rating  # Always calculates latest rating
```

### Test Coverage
Comprehensive test cases cover:
- Initial state rating
- Rating calculation with multiple reviews
- Handling of active and inactive reviews
- Precision of rating computation

### Behavioral Notes
- If no active reviews exist, the rating defaults to 0.0
- The system ensures real-time rating updates on review changes